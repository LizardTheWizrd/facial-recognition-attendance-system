#backup for sql

DROP TABLE Attendance;
DROP TABLE Technical_Fail;
DROP TABLE Enrolment;
DROP TABLE Session;
DROP TABLE Teacher;
DROP TABLE Subject;
DROP TABLE Student;
DROP TABLE Admin;

CREATE TABLE `Student` (
	`student_id` INT,
	`student_name` VARCHAR(50),
	`program` VARCHAR(50),
	`student_email` VARCHAR(50),
	PRIMARY KEY (`student_id`)
);

CREATE TABLE `Subject` (
	`subject_code` VARCHAR(50),
	`subject_name` VARCHAR(100),
	`subject_description` VARCHAR(250),
	PRIMARY KEY (`subject_code`)
);


CREATE TABLE `Teacher` (
	`teacher_id` INT,
	`teacher_name` VARCHAR(100),
	`department` VARCHAR(20),
	`position` VARCHAR(50),
	`password` BINARY(60),
	`teacher_email` VARCHAR(50),
	PRIMARY KEY (`teacher_id`)
);


CREATE TABLE `Session` (
	`session_id` INT AUTO_INCREMENT,
	`subject_code` VARCHAR(50),
	`session_number` INT,
	`day` VARCHAR(20),
	`start_time` TIME,
	`end_time` TIME,
	`room` VARCHAR(20),
	`class_type` VARCHAR(20),
	`teacher_id` INT,
	PRIMARY KEY (`session_id`),
	UNIQUE (`subject_code`, `session_number`),
	FOREIGN KEY (`subject_code`) REFERENCES Subject(subject_code) ON DELETE CASCADE,
	FOREIGN KEY (`teacher_id`) REFERENCES Teacher(teacher_id)	
);


CREATE TABLE `Enrolment` (
	`enrolment_id` INT AUTO_INCREMENT,
	`student_id` INT,
	`session_id` INT,
	PRIMARY KEY (`enrolment_id`),
	UNIQUE (`student_id`, `session_id`),
	FOREIGN KEY (`student_id`) REFERENCES Student(student_id) ON DELETE CASCADE,
	FOREIGN KEY (`session_id`) REFERENCES Session(session_id) ON DELETE CASCADE
);


CREATE TABLE `Attendance` (
	`attendance_id` INT AUTO_INCREMENT,
	`enrolment_id` INT,
	`week` VARCHAR(20),
	`date` DATE,
	`clock_in` TIME,
	`status` VARCHAR(20),
	PRIMARY KEY (`attendance_id`),
	FOREIGN KEY (`enrolment_id`) REFERENCES Enrolment(enrolment_id) ON DELETE CASCADE
);

CREATE TABLE `Technical_Fail` (
	`enrolment_id` INT,
	PRIMARY KEY (`enrolment_id`),
	FOREIGN KEY (`enrolment_id`) REFERENCES Enrolment(enrolment_id) ON DELETE CASCADE
);

CREATE TABLE `Admin` (
	`admin_id` INT,
	`password` BINARY(60),
	PRIMARY KEY (`admin_id`)
);
#inserting admin
INSERT INTO Admin VALUES(112233, NULL);

#inserting students
INSERT INTO Student VALUES (6633249, 'Abshir', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (6536177, 'Ismail', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (6616781, 'Aeron', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (6698360, 'Layton', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (6683113, 'Yassin', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (7654321, 'Cat', 'BBIS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (272489, 'Avery', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (687192, 'Jordan', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (318790, 'Morgan', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (405971, 'Casey', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (956245, 'Skylar', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (937267, 'Cameron', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (348606, 'Taylor', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (686671, 'Payton', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (685842, 'Dakota', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (821260, 'Hayden', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (550846, 'Riley', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (519633, 'Parker', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (496417, 'Logan', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (793256, 'Alex', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (191010, 'Quinn', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (995491, 'Drew', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (410448, 'Jamie', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (974408, 'Charlie', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (349199, 'Kai', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (426532, 'Addison', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (565815, 'Reese', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (882659, 'Spencer', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (311932, 'Morgan', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (367748, 'Elliott', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (395607, 'Lane', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (571798, 'Hayden', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (644785, 'Jules', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (950927, 'Sage', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (578211, 'River', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (897207, 'Phoenix', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (632776, 'Dakota', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (518962, 'Aspen', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (938317, 'Rowan', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (822986, 'Parker', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (627120, 'Blake', 'BCS', 'example-student.kaisen@outlook.com');
INSERT INTO Student VALUES (769520, 'Reese', 'BCS', 'example-student.kaisen@outlook.com');




#inserting subjects
INSERT INTO Subject VALUES ('CSIT321', 'Project', 'Graduation project subject.');
INSERT INTO Subject VALUES ('CSIT111', 'Programming', 'Simpple programming.');
INSERT INTO Subject VALUES ('CSIT214', 'Project Management', 'Teaches how to manage projects.');
INSERT INTO Subject VALUES ('CSCI369', 'Ethical Hacking', 'Teaches how to hack.');
INSERT INTO Subject VALUES ('MATH221', 'Mathematics', 'Teaches how to math.');



#inserting teachers
INSERT INTO Teacher VALUES (123, 'Hamood', 'FEIS', 'Tutor', NULL, 'example-teacher.kaisen@outlook.com');
INSERT INTO Teacher VALUES (456, 'Sultan', 'FEIS', 'Tutor', NULL, 'example-teacher.kaisen@outlook.com');
INSERT INTO Teacher VALUES (789, 'Jafar', 'FEIS', 'Lecturer', NULL, 'example-teacher.kaisen@outlook.com');



#inserting sessions

#teacher123
INSERT INTO Session (subject_code, session_number, day, start_time, end_time, room, class_type, teacher_id) VALUES ('CSCI369', 1, 'Monday', '13:30', '15:30', '5.11', "Lab", 123);
INSERT INTO Session (subject_code, session_number, day, start_time, end_time, room, class_type, teacher_id) VALUES ('CSCI369', 2, 'Tuesday', '13:30', '15:30', '3.43', "Lab", 123);
INSERT INTO Session (subject_code, session_number, day, start_time, end_time, room, class_type, teacher_id) VALUES ('CSCI369', 3, 'Friday', '08:30', '10:30', '3.43', "Lab", 123);
INSERT INTO Session (subject_code, session_number, day, start_time, end_time, room, class_type, teacher_id) VALUES ('MATH221', 1, 'Wednesday', '08:30', '10:30', '3.43', "Lab", 123);
INSERT INTO Session (subject_code, session_number, day, start_time, end_time, room, class_type, teacher_id) VALUES ('CSIT111', 1, 'Thursday', '10:30', '12:30', '4.42', "Lab", 123);

#teacher456 (has no one enrolled in them)
INSERT INTO Session (subject_code, session_number, day, start_time, end_time, room, class_type, teacher_id) VALUES ('MATH221', 2, 'Friday', '08:30', '10:30', '3.43', "Lab", 456);
INSERT INTO Session (subject_code, session_number, day, start_time, end_time, room, class_type, teacher_id) VALUES ('CSIT214', 1, 'Monday', '08:30', '10:30', '5.11', "Lab", 456);
INSERT INTO Session (subject_code, session_number, day, start_time, end_time, room, class_type, teacher_id) VALUES ('CSIT214', 2, 'Monday', '10:30', '12:30', '5.11', "Lab", 456);

#teacher789 (has no one enrolled in them)
INSERT INTO Session (subject_code, session_number, day, start_time, end_time, room, class_type, teacher_id) VALUES ('CSCI369', 4, 'Wednesday', '10:30', '13:30', '3.43', "Lecture", 789);


#inserting enrolments
# Enrolment for 369(1)

INSERT INTO Enrolment (student_id, session_id) VALUES (6633249, 1);
INSERT INTO Enrolment (student_id, session_id) VALUES (6536177, 1);
INSERT INTO Enrolment (student_id, session_id) VALUES (6616781, 1);
INSERT INTO Enrolment (student_id, session_id) VALUES (6698360, 1);
INSERT INTO Enrolment (student_id, session_id) VALUES (6683113, 1);
INSERT INTO Enrolment (student_id, session_id) VALUES (7654321, 1);
INSERT INTO Enrolment (student_id, session_id) VALUES (272489, 1);
INSERT INTO Enrolment (student_id, session_id) VALUES (687192, 1);
INSERT INTO Enrolment (student_id, session_id) VALUES (318790, 1);
INSERT INTO Enrolment (student_id, session_id) VALUES (405971, 1);
INSERT INTO Enrolment (student_id, session_id) VALUES (956245, 1);
INSERT INTO Enrolment (student_id, session_id) VALUES (937267, 1);
INSERT INTO Enrolment (student_id, session_id) VALUES (348606, 1);
INSERT INTO Enrolment (student_id, session_id) VALUES (686671, 1);
INSERT INTO Enrolment (student_id, session_id) VALUES (685842, 1);
INSERT INTO Enrolment (student_id, session_id) VALUES (821260, 1);
INSERT INTO Enrolment (student_id, session_id) VALUES (550846, 1);
INSERT INTO Enrolment (student_id, session_id) VALUES (519633, 1);
INSERT INTO Enrolment (student_id, session_id) VALUES (496417, 1);
INSERT INTO Enrolment (student_id, session_id) VALUES (793256, 1);


# Enrolment for 369(2)

INSERT INTO Enrolment (student_id, session_id) VALUES (191010, 2);
INSERT INTO Enrolment (student_id, session_id) VALUES (995491, 2);
INSERT INTO Enrolment (student_id, session_id) VALUES (410448, 2);
INSERT INTO Enrolment (student_id, session_id) VALUES (974408, 2);
INSERT INTO Enrolment (student_id, session_id) VALUES (349199, 2);
INSERT INTO Enrolment (student_id, session_id) VALUES (426532, 2);
INSERT INTO Enrolment (student_id, session_id) VALUES (565815, 2);
INSERT INTO Enrolment (student_id, session_id) VALUES (882659, 2);
INSERT INTO Enrolment (student_id, session_id) VALUES (311932, 2);
INSERT INTO Enrolment (student_id, session_id) VALUES (367748, 2);
INSERT INTO Enrolment (student_id, session_id) VALUES (395607, 2);

# Enrolment for 369 (3)

INSERT INTO Enrolment (student_id, session_id) VALUES (571798, 3);
INSERT INTO Enrolment (student_id, session_id) VALUES (644785, 3);
INSERT INTO Enrolment (student_id, session_id) VALUES (950927, 3);
INSERT INTO Enrolment (student_id, session_id) VALUES (578211, 3);
INSERT INTO Enrolment (student_id, session_id) VALUES (897207, 3);
INSERT INTO Enrolment (student_id, session_id) VALUES (632776, 3);
INSERT INTO Enrolment (student_id, session_id) VALUES (518962, 3);
INSERT INTO Enrolment (student_id, session_id) VALUES (938317, 3);
INSERT INTO Enrolment (student_id, session_id) VALUES (822986, 3);
INSERT INTO Enrolment (student_id, session_id) VALUES (627120, 3);
INSERT INTO Enrolment (student_id, session_id) VALUES (769520, 3);


# Enrolment for math221 (1)

INSERT INTO Enrolment (student_id, session_id) VALUES (6633249, 4);
INSERT INTO Enrolment (student_id, session_id) VALUES (6536177, 4);
INSERT INTO Enrolment (student_id, session_id) VALUES (6616781, 4);
INSERT INTO Enrolment (student_id, session_id) VALUES (6698360, 4);
INSERT INTO Enrolment (student_id, session_id) VALUES (6683113, 4);
INSERT INTO Enrolment (student_id, session_id) VALUES (7654321, 4);
INSERT INTO Enrolment (student_id, session_id) VALUES (272489, 4);
INSERT INTO Enrolment (student_id, session_id) VALUES (687192, 4);
INSERT INTO Enrolment (student_id, session_id) VALUES (318790, 4);
INSERT INTO Enrolment (student_id, session_id) VALUES (405971, 4);
INSERT INTO Enrolment (student_id, session_id) VALUES (956245, 4);
INSERT INTO Enrolment (student_id, session_id) VALUES (937267, 4);
INSERT INTO Enrolment (student_id, session_id) VALUES (348606, 4);
INSERT INTO Enrolment (student_id, session_id) VALUES (686671, 4);
INSERT INTO Enrolment (student_id, session_id) VALUES (685842, 4);
INSERT INTO Enrolment (student_id, session_id) VALUES (821260, 4);
INSERT INTO Enrolment (student_id, session_id) VALUES (550846, 4);
INSERT INTO Enrolment (student_id, session_id) VALUES (519633, 4);
INSERT INTO Enrolment (student_id, session_id) VALUES (496417, 4);
INSERT INTO Enrolment (student_id, session_id) VALUES (793256, 4);
INSERT INTO Enrolment (student_id, session_id) VALUES (191010, 4);
INSERT INTO Enrolment (student_id, session_id) VALUES (995491, 4);
INSERT INTO Enrolment (student_id, session_id) VALUES (410448, 4);
INSERT INTO Enrolment (student_id, session_id) VALUES (974408, 4);
INSERT INTO Enrolment (student_id, session_id) VALUES (349199, 4);
INSERT INTO Enrolment (student_id, session_id) VALUES (426532, 4);
INSERT INTO Enrolment (student_id, session_id) VALUES (565815, 4);
INSERT INTO Enrolment (student_id, session_id) VALUES (882659, 4);
INSERT INTO Enrolment (student_id, session_id) VALUES (311932, 4);
INSERT INTO Enrolment (student_id, session_id) VALUES (367748, 4);

# Enrollment for csit111 (1)

INSERT INTO Enrolment (student_id, session_id) VALUES (395607, 5);
INSERT INTO Enrolment (student_id, session_id) VALUES (571798, 5);
INSERT INTO Enrolment (student_id, session_id) VALUES (644785, 5);
INSERT INTO Enrolment (student_id, session_id) VALUES (950927, 5);
INSERT INTO Enrolment (student_id, session_id) VALUES (578211, 5);
INSERT INTO Enrolment (student_id, session_id) VALUES (897207, 5);
INSERT INTO Enrolment (student_id, session_id) VALUES (632776, 5);
INSERT INTO Enrolment (student_id, session_id) VALUES (518962, 5);
INSERT INTO Enrolment (student_id, session_id) VALUES (938317, 5);
INSERT INTO Enrolment (student_id, session_id) VALUES (822986, 5);
INSERT INTO Enrolment (student_id, session_id) VALUES (627120, 5);
INSERT INTO Enrolment (student_id, session_id) VALUES (769520, 5);



# insert attendance

#attendance for 369 (1)
#week 1

INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (1, "Week 1", "2023-01-02", '13:30', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (2, "Week 1", "2023-01-02", '13:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (3, "Week 1", "2023-01-02", '13:32', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (4, "Week 1", "2023-01-02", '13:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (5, "Week 1", "2023-01-02", '13:34', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (6, "Week 1", "2023-01-02", '13:35', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (7, "Week 1", "2023-01-02", '13:35', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (8, "Week 1", "2023-01-02", '13:35', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (9, "Week 1", "2023-01-02", '13:35', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (10, "Week 1", "2023-01-02", '13:36', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (11, "Week 1", "2023-01-02", '13:36', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (12, "Week 1", "2023-01-02", '13:37', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (13, "Week 1", "2023-01-02", '13:37', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (14, "Week 1", "2023-01-02", '13:37', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (15, "Week 1", "2023-01-02", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (16, "Week 1", "2023-01-02", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (17, "Week 1", "2023-01-02", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (18, "Week 1", "2023-01-02", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (19, "Week 1", "2023-01-02", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (20, "Week 1", "2023-01-02", NULL, "Excused");


#week2
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (1, "Week 2", "2023-01-09", NULL, "Excused");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (2, "Week 2", "2023-01-09", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (3, "Week 2", "2023-01-09", '13:32', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (4, "Week 2", "2023-01-09", '13:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (5, "Week 2", "2023-01-09", '13:34', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (6, "Week 2", "2023-01-09", '13:35', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (7, "Week 2", "2023-01-09", '13:35', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (8, "Week 2", "2023-01-09", '13:35', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (9, "Week 2", "2023-01-09", '13:35', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (10, "Week 2", "2023-01-09", '13:36', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (11, "Week 2", "2023-01-09", '13:36', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (12, "Week 2", "2023-01-09", '13:37', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (13, "Week 2", "2023-01-09", '13:37', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (14, "Week 2", "2023-01-09", '13:37', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (15, "Week 2", "2023-01-09", '13:37', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (16, "Week 2", "2023-01-09", '13:38', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (17, "Week 2", "2023-01-09", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (18, "Week 2", "2023-01-09", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (19, "Week 2", "2023-01-09", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (20, "Week 2", "2023-01-09", NULL, "Excused");

#week3
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (1, "Week 3", "2023-01-16", '13:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (2, "Week 3", "2023-01-16", NULL, "Excused");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (3, "Week 3", "2023-01-16", '13:32', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (4, "Week 3", "2023-01-16", '13:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (5, "Week 3", "2023-01-16", '13:34', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (6, "Week 3", "2023-01-16", '13:35', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (7, "Week 3", "2023-01-16", '13:35', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (8, "Week 3", "2023-01-16", '13:35', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (9, "Week 3", "2023-01-16", '13:35', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (10, "Week 3", "2023-01-16", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (11, "Week 3", "2023-01-16", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (12, "Week 3", "2023-01-16", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (13, "Week 3", "2023-01-16", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (14, "Week 3", "2023-01-16", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (15, "Week 3", "2023-01-16", '13:37', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (16, "Week 3", "2023-01-16", '13:38', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (17, "Week 3", "2023-01-16", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (18, "Week 3", "2023-01-16", NULL, "Excused");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (19, "Week 3", "2023-01-16", NULL, "Excused");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (20, "Week 3", "2023-01-16", NULL, "Excused");




#attendance for 369 (2)
#week1

INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (21, "Week 1", "2023-01-03", '13:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (22, "Week 1", "2023-01-03", '13:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (23, "Week 1", "2023-01-03", '13:34', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (24, "Week 1", "2023-01-03", '13:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (25, "Week 1", "2023-01-03", '13:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (26, "Week 1", "2023-01-03", '13:32', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (27, "Week 1", "2023-01-03", '13:32', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (28, "Week 1", "2023-01-03", '13:38', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (29, "Week 1", "2023-01-03", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (30, "Week 1", "2023-01-03", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (31, "Week 1", "2023-01-03", NULL, "Excused");


#week2
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (21, "Week 2", "2023-01-10", '13:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (22, "Week 2", "2023-01-10", '13:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (23, "Week 2", "2023-01-10", '13:32', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (24, "Week 2", "2023-01-10", '13:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (25, "Week 2", "2023-01-10", '13:32', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (26, "Week 2", "2023-01-10", '13:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (27, "Week 2", "2023-01-10", '13:35', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (28, "Week 2", "2023-01-10", '13:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (29, "Week 2", "2023-01-10", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (30, "Week 2", "2023-01-10", NULL, "Excused");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (31, "Week 2", "2023-01-10", NULL, "Excused");


#week3
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (21, "Week 3", "2023-01-17", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (22, "Week 3", "2023-01-17", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (23, "Week 3", "2023-01-17", '13:32', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (24, "Week 3", "2023-01-17", '13:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (25, "Week 3", "2023-01-17", '13:32', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (26, "Week 3", "2023-01-17", '13:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (27, "Week 3", "2023-01-17", '13:35', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (28, "Week 3", "2023-01-17", '13:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (29, "Week 3", "2023-01-17", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (30, "Week 3", "2023-01-17", NULL, "Excused");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (31, "Week 3", "2023-01-17", NULL, "Excused");



#attendance for 369 (3)
#week 1

INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (32, "Week 1", "2023-01-06", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (33, "Week 1", "2023-01-06", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (34, "Week 1", "2023-01-06", '08:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (35, "Week 1", "2023-01-06", '08:36', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (36, "Week 1", "2023-01-06", '08:37', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (37, "Week 1", "2023-01-06", '08:32', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (38, "Week 1", "2023-01-06", '08:34', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (39, "Week 1", "2023-01-06", '08:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (40, "Week 1", "2023-01-06", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (41, "Week 1", "2023-01-06", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (42, "Week 1", "2023-01-06", NULL, "Excused");

#week 2
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (32, "Week 2", "2023-01-13", '08:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (33, "Week 2", "2023-01-13", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (34, "Week 2", "2023-01-13", '08:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (35, "Week 2", "2023-01-13", '08:36', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (36, "Week 2", "2023-01-13", '08:37', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (37, "Week 2", "2023-01-13", '08:32', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (38, "Week 2", "2023-01-13", '08:34', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (39, "Week 2", "2023-01-13", '08:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (40, "Week 2", "2023-01-13", NULL, "Excused");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (41, "Week 2", "2023-01-13", NULL, "Excused");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (42, "Week 2", "2023-01-13", NULL, "Excused");

#week 3
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (32, "Week 3", "2023-01-21", '08:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (33, "Week 3", "2023-01-21", '08:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (34, "Week 3", "2023-01-21", '08:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (35, "Week 3", "2023-01-21", '08:36', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (36, "Week 3", "2023-01-21", '08:37', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (37, "Week 3", "2023-01-21", '08:32', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (38, "Week 3", "2023-01-21", '08:34', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (39, "Week 3", "2023-01-21", '08:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (40, "Week 3", "2023-01-21", '08:36', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (41, "Week 3", "2023-01-21", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (42, "Week 3", "2023-01-21", '08:33', "Present");



# attendance for 221 (1)
#week1

INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (43, "Week 1", "2023-01-04", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (44, "Week 1", "2023-01-04", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (45, "Week 1", "2023-01-04", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (46, "Week 1", "2023-01-04", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (47, "Week 1", "2023-01-04", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (48, "Week 1", "2023-01-04", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (49, "Week 1", "2023-01-04", NULL, "Excused");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (50, "Week 1", "2023-01-04", '08:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (51, "Week 1", "2023-01-04", '08:36', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (52, "Week 1", "2023-01-04", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (53, "Week 1", "2023-01-04", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (54, "Week 1", "2023-01-04", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (55, "Week 1", "2023-01-04", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (56, "Week 1", "2023-01-04", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (57, "Week 1", "2023-01-04", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (58, "Week 1", "2023-01-04", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (59, "Week 1", "2023-01-04", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (60, "Week 1", "2023-01-04", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (61, "Week 1", "2023-01-04", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (62, "Week 1", "2023-01-04", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (63, "Week 1", "2023-01-04", '08:32', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (64, "Week 1", "2023-01-04", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (65, "Week 1", "2023-01-04", '08:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (66, "Week 1", "2023-01-04", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (67, "Week 1", "2023-01-04", '08:32', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (68, "Week 1", "2023-01-04", '08:37', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (69, "Week 1", "2023-01-04", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (70, "Week 1", "2023-01-04", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (71, "Week 1", "2023-01-04", '08:37', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (72, "Week 1", "2023-01-04", '08:33', "Present");


#week2

INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (43, "Week 2", "2023-01-11", '08:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (44, "Week 2", "2023-01-11", '08:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (45, "Week 2", "2023-01-11", '08:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (46, "Week 2", "2023-01-11", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (47, "Week 2", "2023-01-11", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (48, "Week 2", "2023-01-11", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (49, "Week 2", "2023-01-11", NULL, "Excused");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (50, "Week 2", "2023-01-11", '08:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (51, "Week 2", "2023-01-11", '08:36', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (52, "Week 2", "2023-01-11", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (53, "Week 2", "2023-01-11", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (54, "Week 2", "2023-01-11", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (55, "Week 2", "2023-01-11", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (56, "Week 2", "2023-01-11", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (57, "Week 2", "2023-01-11", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (58, "Week 2", "2023-01-11", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (59, "Week 2", "2023-01-11", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (60, "Week 2", "2023-01-11", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (61, "Week 2", "2023-01-11", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (62, "Week 2", "2023-01-11", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (63, "Week 2", "2023-01-11", '08:32', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (64, "Week 2", "2023-01-11", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (65, "Week 2", "2023-01-11", '08:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (66, "Week 2", "2023-01-11", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (67, "Week 2", "2023-01-11", '08:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (68, "Week 2", "2023-01-11", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (69, "Week 2", "2023-01-11", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (70, "Week 2", "2023-01-11", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (71, "Week 2", "2023-01-11", '08:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (72, "Week 2", "2023-01-11", '08:33', "Present");


#attendance for 111 (1)
#week 1
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (73, "Week 1", "2023-01-05", '10:30', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (74, "Week 1", "2023-01-05", '10:37', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (75, "Week 1", "2023-01-05", '10:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (76, "Week 1", "2023-01-05", '10:38', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (77, "Week 1", "2023-01-05", '10:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (78, "Week 1", "2023-01-05", '10:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (79, "Week 1", "2023-01-05", '10:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (80, "Week 1", "2023-01-05", '10:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (81, "Week 1", "2023-01-05", '10:36', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (82, "Week 1", "2023-01-05", '10:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (83, "Week 1", "2023-01-05", '10:39', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (84, "Week 1", "2023-01-05", '10:33', "Present");

#week 2
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (73, "Week 2", "2023-01-12", NULL, "Excused");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (74, "Week 2", "2023-01-12", '10:37', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (75, "Week 2", "2023-01-12", '10:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (76, "Week 2", "2023-01-12", '10:38', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (77, "Week 2", "2023-01-12", '10:31', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (78, "Week 2", "2023-01-12", '10:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (79, "Week 2", "2023-01-12", '10:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (80, "Week 2", "2023-01-12", '10:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (81, "Week 2", "2023-01-12", '10:36', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (82, "Week 2", "2023-01-12", '10:33', "Present");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (83, "Week 2", "2023-01-12", NULL, "Absent");
INSERT INTO Attendance (enrolment_id, week, date, clock_in, status) VALUES (84, "Week 2", "2023-01-12", NULL, "Absent");


############################################################################################################################

SELECT Student.student_id, Student.student_name, Attendance.status, Subject.subject_code, Session.day, Session.start_time
FROM Enrolment, Student, Subject, Session, Attendance
WHERE Student.student_id = Enrolment.student_id AND 
Subject.subject_code = Session.subject_code AND 
Session.session_id = Enrolment.session_id AND
Attendance.enrolment_id = Enrolment.enrolment_id AND Student.student_id = 6633249;

# all students in  a specific subject
SELECT Student.student_id, Student.student_name, Teacher.teacher_name, Session.day, CONCAT(Session.start_time, " - " , Session.end_time) AS "class Times"
FROM Enrolment, Student, Subject, Session, Attendance, Teacher
WHERE Student.student_id = Enrolment.student_id AND 
Subject.subject_code = Session.subject_code AND 
Session.session_id = Enrolment.session_id AND
Teacher.teacher_id = Session.teacher_id AND
Attendance.enrolment_id = Enrolment.enrolment_id AND Subject.subject_code= 'CSCI369';

SELECT Student.student_id, Student.student_name, Teacher.teacher_name, Session.day, FORMAT(Session.start_time, 'MM')
FROM Enrolment, Student, Subject, Session,Teacher
WHERE Student.student_id = Enrolment.student_id AND 
Subject.subject_code = Session.subject_code AND 
Session.session_id = Enrolment.session_id AND
Teacher.teacher_id = Session.teacher_id AND
Subject.subject_code= 'CSCI369'
AND day = "Monday" AND start_time = "13:30";

Select Student.student_id, Student.student_name, Attendance.status, Session.day, Subject.subject_code
FROM Student, Enrolment, Attendance, Session, Subject
WHERE Student.student_id = Enrolment.student_id AND Enrolment.enrolment_id = Attendance.enrolment_id AND 
Session.session_id = Enrolment.session_id AND Subject.subject_code = Session.subject_code AND
Subject.subject_code = 'CSCI369';

SELECT Subject.subject_code, Subject.subject_name, Session.day, CAST(time_format(Session.end_time,'%H:%i') AS Char) AS start_time , CAST(time_format(Session.end_time,'%H:%i') AS Char) AS end_time, Session.room, Session.class_type
FROM Subject, Session
WHERE Subject.subject_code = Session.subject_code AND teacher_id = 123

#live-attendance
SELECT Student.student_id, Student.student_name, Attendance.week, 
       DATE_FORMAT(Attendance.date, "%d-%m-%y") as date, Attendance.status, ROUND(att_per.present_percentage,2) as attedance_percentage, att_per.unexcused_absences
FROM Student
INNER JOIN Enrolment ON Student.student_id = Enrolment.student_id
INNER JOIN Attendance ON Enrolment.enrolment_id = Attendance.enrolment_id
INNER JOIN Session ON Session.session_id = Enrolment.session_id
INNER JOIN Subject ON Subject.subject_code = Session.subject_code
INNER JOIN
(
	SELECT Student.student_id, (SUM(IF(Attendance.status = 'Present', 1, 0)) / COUNT(*)) * 100 AS present_percentage, 
    CONCAT(SUM(IF(Attendance.status = 'Absent', 1, 0)),'/','3') AS unexcused_absences
	FROM Student
	INNER JOIN Enrolment ON Student.student_id = Enrolment.student_id
	INNER JOIN Attendance ON Enrolment.enrolment_id = Attendance.enrolment_id
	INNER JOIN Session ON Session.session_id = Enrolment.session_id
	INNER JOIN Subject ON Subject.subject_code = Session.subject_code
	WHERE Subject.subject_code = 'CSCI369' 
	GROUP BY Student.student_id
) AS att_per
ON Student.student_id = att_per.student_id
WHERE Subject.subject_code = 'CSCI369' AND Session.session_number = 2;

#recent-attendance
SELECT Student.student_name, ROUND(att_per.present_percentage,2) as attedance_percentage, CAST(time_format(Attendance.clock_in,'%H:%i') AS Char) AS clock_in
FROM Student
INNER JOIN Enrolment ON Student.student_id = Enrolment.student_id
INNER JOIN Attendance ON Enrolment.enrolment_id = Attendance.enrolment_id
INNER JOIN Session ON Session.session_id = Enrolment.session_id
INNER JOIN Subject ON Subject.subject_code = Session.subject_code
INNER JOIN
(
	SELECT Student.student_id, (SUM(IF(Attendance.status = 'Present', 1, 0)) / COUNT(*)) * 100 AS present_percentage
	FROM Student
	INNER JOIN Enrolment ON Student.student_id = Enrolment.student_id
	INNER JOIN Attendance ON Enrolment.enrolment_id = Attendance.enrolment_id
	INNER JOIN Session ON Session.session_id = Enrolment.session_id
	INNER JOIN Subject ON Subject.subject_code = Session.subject_code
	WHERE Subject.subject_code = 'CSCI369' 
	GROUP BY Student.student_id
) AS att_per
ON Student.student_id = att_per.student_id
WHERE Attendance.status = 'Present' AND Subject.subject_code = 'CSCI369' AND Session.session_number = 1 AND Attendance.week = 'Week 2'
ORDER BY Attendance.clock_in DESC

#upcoming-classes
SELECT Subject.subject_code, Subject.subject_name, Session.room, CONCAT(CAST(time_format(Session.start_time,'%H:%i') AS Char) , ' - ',CAST(time_format(Session.end_time,'%H:%i') AS Char)) AS timing, Session.session_number
FROM Subject
INNER JOIN Session ON Subject.subject_code = Session.subject_code
INNER JOIN Teacher ON Teacher.teacher_id = Session.teacher_id
WHERE Session.day = DAYNAME(CURDATE()) AND Teacher.teacher_id = 123
ORDER BY Session.start_time ASC;
